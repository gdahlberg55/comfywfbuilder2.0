{
  "last_node_id": 100,
  "last_link_id": 200,
  "nodes": [
    {
      "id": 1,
      "type": "CheckpointLoaderSimple",
      "pos": [40, 100],
      "size": [320, 98],
      "flags": {},
      "order": 0,
      "mode": 0,
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [1], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [2, 3], "slot_index": 1},
        {"name": "VAE", "type": "VAE", "links": [4], "slot_index": 2}
      ],
      "properties": {"Node name for S&R": "CheckpointLoaderSimple"},
      "widgets_values": ["sdxl_base_1.0.safetensors"],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Base Model Loader"
    },
    {
      "id": 2,
      "type": "LoraLoader",
      "pos": [40, 220],
      "size": [320, 126],
      "flags": {},
      "order": 5,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 1},
        {"name": "clip", "type": "CLIP", "link": 2}
      ],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [5], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [6, 7], "slot_index": 1}
      ],
      "properties": {"Node name for S&R": "LoraLoader"},
      "widgets_values": ["outfit_changer_v1.safetensors", 0.8, 0.8],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Outfit LoRA"
    },
    {
      "id": 3,
      "type": "LoraLoader",
      "pos": [40, 370],
      "size": [320, 126],
      "flags": {},
      "order": 10,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 5},
        {"name": "clip", "type": "CLIP", "link": 6}
      ],
      "outputs": [
        {"name": "MODEL", "type": "MODEL", "links": [8], "slot_index": 0},
        {"name": "CLIP", "type": "CLIP", "links": [9, 10], "slot_index": 1}
      ],
      "properties": {"Node name for S&R": "LoraLoader"},
      "widgets_values": ["detail_enhancer.safetensors", 0.5, 0.5],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Detail Enhancement LoRA"
    },
    {
      "id": 4,
      "type": "VAELoader",
      "pos": [40, 520],
      "size": [320, 58],
      "flags": {},
      "order": 1,
      "mode": 0,
      "outputs": [
        {"name": "VAE", "type": "VAE", "links": [11], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "VAELoader"},
      "widgets_values": ["vae-ft-mse-840000-ema-pruned.safetensors"],
      "color": "#432",
      "bgcolor": "#653",
      "title": "VAE Loader (Optional)"
    },
    {
      "id": 5,
      "type": "LoadImage",
      "pos": [400, 100],
      "size": [320, 314],
      "flags": {},
      "order": 2,
      "mode": 0,
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [12, 13], "slot_index": 0},
        {"name": "MASK", "type": "MASK", "links": [14], "slot_index": 1}
      ],
      "properties": {"Node name for S&R": "LoadImage"},
      "widgets_values": ["person_input.png", "image"],
      "color": "#432",
      "bgcolor": "#653",
      "title": "Person Input Image"
    },
    {
      "id": 6,
      "type": "LoadImage",
      "pos": [400, 450],
      "size": [320, 314],
      "flags": {},
      "order": 3,
      "mode": 0,
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [15], "slot_index": 0},
        {"name": "MASK", "type": "MASK", "links": null}
      ],
      "properties": {"Node name for S&R": "LoadImage"},
      "widgets_values": ["outfit_reference.png", "image"],
      "color": "#432",
      "bgcolor": "#653",
      "title": "Outfit Reference Image"
    },
    {
      "id": 7,
      "type": "ControlNetLoader",
      "pos": [40, 620],
      "size": [320, 58],
      "flags": {},
      "order": 4,
      "mode": 0,
      "outputs": [
        {"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [16], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "ControlNetLoader"},
      "widgets_values": ["control_v11p_sd15_openpose.pth"],
      "color": "#322",
      "bgcolor": "#533",
      "title": "Pose ControlNet"
    },
    {
      "id": 8,
      "type": "ControlNetLoader",
      "pos": [40, 700],
      "size": [320, 58],
      "flags": {},
      "order": 6,
      "mode": 0,
      "outputs": [
        {"name": "CONTROL_NET", "type": "CONTROL_NET", "links": [17], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "ControlNetLoader"},
      "widgets_values": ["control_v11f1e_sd15_tile.pth"],
      "color": "#322",
      "bgcolor": "#533",
      "title": "Detail ControlNet"
    },
    {
      "id": 9,
      "type": "CLIPTextEncode",
      "pos": [760, 100],
      "size": [400, 154],
      "flags": {},
      "order": 15,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 9}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [18], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "CLIPTextEncode"},
      "widgets_values": ["professional photo of person wearing elegant business outfit, high quality, detailed clothing, perfect fit, maintaining original face and pose"],
      "color": "#232",
      "bgcolor": "#353",
      "title": "Positive Prompt - Outfit"
    },
    {
      "id": 10,
      "type": "CLIPTextEncode",
      "pos": [760, 280],
      "size": [400, 154],
      "flags": {},
      "order": 16,
      "mode": 0,
      "inputs": [
        {"name": "clip", "type": "CLIP", "link": 10}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [19], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "CLIPTextEncode"},
      "widgets_values": ["deformed, ugly, bad anatomy, different face, wrong person, bad fit, low quality"],
      "color": "#322",
      "bgcolor": "#533",
      "title": "Negative Prompt"
    },
    {
      "id": 11,
      "type": "CLIPVisionLoader",
      "pos": [40, 780],
      "size": [320, 58],
      "flags": {},
      "order": 7,
      "mode": 0,
      "outputs": [
        {"name": "CLIP_VISION", "type": "CLIP_VISION", "links": [20], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "CLIPVisionLoader"},
      "widgets_values": ["clip_vision_g.safetensors"],
      "color": "#322",
      "bgcolor": "#533",
      "title": "CLIP Vision Model"
    },
    {
      "id": 12,
      "type": "CLIPVisionEncode",
      "pos": [760, 460],
      "size": [400, 46],
      "flags": {},
      "order": 17,
      "mode": 0,
      "inputs": [
        {"name": "clip_vision", "type": "CLIP_VISION", "link": 20},
        {"name": "image", "type": "IMAGE", "link": 15}
      ],
      "outputs": [
        {"name": "CLIP_VISION_OUTPUT", "type": "CLIP_VISION_OUTPUT", "links": [21], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "CLIPVisionEncode"},
      "color": "#232",
      "bgcolor": "#353",
      "title": "Encode Outfit Style"
    },
    {
      "id": 13,
      "type": "unCLIPConditioning",
      "pos": [760, 530],
      "size": [400, 140],
      "flags": {},
      "order": 20,
      "mode": 0,
      "inputs": [
        {"name": "conditioning", "type": "CONDITIONING", "link": 18},
        {"name": "clip_vision_output", "type": "CLIP_VISION_OUTPUT", "link": 21}
      ],
      "outputs": [
        {"name": "CONDITIONING", "type": "CONDITIONING", "links": [22], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "unCLIPConditioning"},
      "widgets_values": [0.7, 0],
      "color": "#232",
      "bgcolor": "#353",
      "title": "Style Conditioning Mix"
    },
    {
      "id": 14,
      "type": "ControlNetApplyAdvanced",
      "pos": [760, 680],
      "size": [400, 166],
      "flags": {},
      "order": 25,
      "mode": 0,
      "inputs": [
        {"name": "positive", "type": "CONDITIONING", "link": 22},
        {"name": "negative", "type": "CONDITIONING", "link": 19},
        {"name": "control_net", "type": "CONTROL_NET", "link": 16},
        {"name": "image", "type": "IMAGE", "link": 12}
      ],
      "outputs": [
        {"name": "positive", "type": "CONDITIONING", "links": [23], "slot_index": 0},
        {"name": "negative", "type": "CONDITIONING", "links": [24], "slot_index": 1}
      ],
      "properties": {"Node name for S&R": "ControlNetApplyAdvanced"},
      "widgets_values": [0.8, 0, 1],
      "color": "#232",
      "bgcolor": "#353",
      "title": "Apply Pose Control"
    },
    {
      "id": 15,
      "type": "ControlNetApplyAdvanced",
      "pos": [760, 880],
      "size": [400, 166],
      "flags": {},
      "order": 30,
      "mode": 0,
      "inputs": [
        {"name": "positive", "type": "CONDITIONING", "link": 23},
        {"name": "negative", "type": "CONDITIONING", "link": 24},
        {"name": "control_net", "type": "CONTROL_NET", "link": 17},
        {"name": "image", "type": "IMAGE", "link": 13}
      ],
      "outputs": [
        {"name": "positive", "type": "CONDITIONING", "links": [25], "slot_index": 0},
        {"name": "negative", "type": "CONDITIONING", "links": [26], "slot_index": 1}
      ],
      "properties": {"Node name for S&R": "ControlNetApplyAdvanced"},
      "widgets_values": [0.4, 0.3, 0.8],
      "color": "#232",
      "bgcolor": "#353",
      "title": "Apply Detail Control"
    },
    {
      "id": 16,
      "type": "EmptyLatentImage",
      "pos": [1200, 100],
      "size": [320, 106],
      "flags": {},
      "order": 8,
      "mode": 0,
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [27], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "EmptyLatentImage"},
      "widgets_values": [768, 1024, 1],
      "color": "#323",
      "bgcolor": "#535",
      "title": "Canvas Size"
    },
    {
      "id": 17,
      "type": "VAEEncode",
      "pos": [1200, 230],
      "size": [320, 46],
      "flags": {},
      "order": 18,
      "mode": 0,
      "inputs": [
        {"name": "pixels", "type": "IMAGE", "link": 12},
        {"name": "vae", "type": "VAE", "link": 4}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [28], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "VAEEncode"},
      "color": "#323",
      "bgcolor": "#535",
      "title": "Encode Input Image"
    },
    {
      "id": 18,
      "type": "LatentComposite",
      "pos": [1200, 300],
      "size": [320, 126],
      "flags": {},
      "order": 22,
      "mode": 0,
      "inputs": [
        {"name": "samples_to", "type": "LATENT", "link": 27},
        {"name": "samples_from", "type": "LATENT", "link": 28}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [29], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "LatentComposite"},
      "widgets_values": [0, 0, false],
      "color": "#323",
      "bgcolor": "#535",
      "title": "Composite Latents"
    },
    {
      "id": 19,
      "type": "KSampler",
      "pos": [1200, 450],
      "size": [320, 262],
      "flags": {},
      "order": 35,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 8},
        {"name": "positive", "type": "CONDITIONING", "link": 25},
        {"name": "negative", "type": "CONDITIONING", "link": 26},
        {"name": "latent_image", "type": "LATENT", "link": 29}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [30], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "KSampler"},
      "widgets_values": [123456, "randomize", 20, 7.5, "dpmpp_2m", "karras", 0.8],
      "color": "#323",
      "bgcolor": "#535",
      "title": "Primary Sampling"
    },
    {
      "id": 20,
      "type": "LatentUpscaleBy",
      "pos": [1200, 740],
      "size": [320, 82],
      "flags": {},
      "order": 40,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 30}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [31], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "LatentUpscaleBy"},
      "widgets_values": ["nearest-exact", 1.25],
      "color": "#323",
      "bgcolor": "#535",
      "title": "Upscale Latent"
    },
    {
      "id": 21,
      "type": "KSampler",
      "pos": [1200, 850],
      "size": [320, 262],
      "flags": {},
      "order": 45,
      "mode": 0,
      "inputs": [
        {"name": "model", "type": "MODEL", "link": 8},
        {"name": "positive", "type": "CONDITIONING", "link": 25},
        {"name": "negative", "type": "CONDITIONING", "link": 26},
        {"name": "latent_image", "type": "LATENT", "link": 31}
      ],
      "outputs": [
        {"name": "LATENT", "type": "LATENT", "links": [32], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "KSampler"},
      "widgets_values": [654321, "fixed", 15, 7.5, "dpmpp_2m", "karras", 0.4],
      "color": "#323",
      "bgcolor": "#535",
      "title": "Refinement Pass"
    },
    {
      "id": 22,
      "type": "VAEDecode",
      "pos": [1560, 100],
      "size": [320, 46],
      "flags": {},
      "order": 50,
      "mode": 0,
      "inputs": [
        {"name": "samples", "type": "LATENT", "link": 32},
        {"name": "vae", "type": "VAE", "link": 4}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [33, 34], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "VAEDecode"},
      "color": "#223",
      "bgcolor": "#335",
      "title": "Decode Final"
    },
    {
      "id": 23,
      "type": "ImageCompositeMasked",
      "pos": [1560, 170],
      "size": [320, 146],
      "flags": {},
      "order": 55,
      "mode": 0,
      "inputs": [
        {"name": "destination", "type": "IMAGE", "link": 12},
        {"name": "source", "type": "IMAGE", "link": 33},
        {"name": "mask", "type": "MASK", "link": 14}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [35], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "ImageCompositeMasked"},
      "widgets_values": [0, 0, false],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Preserve Original Parts"
    },
    {
      "id": 24,
      "type": "ImageUpscaleWithModel",
      "pos": [1560, 340],
      "size": [320, 46],
      "flags": {},
      "order": 60,
      "mode": 0,
      "inputs": [
        {"name": "upscale_model", "type": "UPSCALE_MODEL", "link": 36},
        {"name": "image", "type": "IMAGE", "link": 35}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [37], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "ImageUpscaleWithModel"},
      "color": "#223",
      "bgcolor": "#335",
      "title": "AI Upscale"
    },
    {
      "id": 25,
      "type": "UpscaleModelLoader",
      "pos": [1560, 410],
      "size": [320, 58],
      "flags": {},
      "order": 9,
      "mode": 0,
      "outputs": [
        {"name": "UPSCALE_MODEL", "type": "UPSCALE_MODEL", "links": [36], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "UpscaleModelLoader"},
      "widgets_values": ["4x-UltraSharp.pth"],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Upscale Model"
    },
    {
      "id": 26,
      "type": "ImageScaleBy",
      "pos": [1560, 490],
      "size": [320, 82],
      "flags": {},
      "order": 65,
      "mode": 0,
      "inputs": [
        {"name": "image", "type": "IMAGE", "link": 37}
      ],
      "outputs": [
        {"name": "IMAGE", "type": "IMAGE", "links": [38], "slot_index": 0}
      ],
      "properties": {"Node name for S&R": "ImageScaleBy"},
      "widgets_values": ["lanczos", 0.5],
      "color": "#223",
      "bgcolor": "#335",
      "title": "Scale to Output Size"
    },
    {
      "id": 27,
      "type": "PreviewImage",
      "pos": [1920, 100],
      "size": [320, 246],
      "flags": {},
      "order": 51,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 34}
      ],
      "properties": {"Node name for S&R": "PreviewImage"},
      "title": "Preview Raw"
    },
    {
      "id": 28,
      "type": "PreviewImage",
      "pos": [1920, 380],
      "size": [320, 246],
      "flags": {},
      "order": 70,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 38}
      ],
      "properties": {"Node name for S&R": "PreviewImage"},
      "title": "Preview Final"
    },
    {
      "id": 29,
      "type": "SaveImage",
      "pos": [1920, 660],
      "size": [320, 270],
      "flags": {},
      "order": 71,
      "mode": 0,
      "inputs": [
        {"name": "images", "type": "IMAGE", "link": 38}
      ],
      "properties": {"Node name for S&R": "SaveImage"},
      "widgets_values": ["ComfyUI"],
      "title": "Save Output"
    }
  ],
  "links": [
    [1, 1, 0, 2, 0, "MODEL"],
    [2, 1, 1, 2, 1, "CLIP"],
    [3, 1, 1, 7, 0, "CLIP"],
    [4, 1, 2, 17, 1, "VAE"],
    [5, 2, 0, 3, 0, "MODEL"],
    [6, 2, 1, 3, 1, "CLIP"],
    [7, 2, 1, 7, 0, "CLIP"],
    [8, 3, 0, 19, 0, "MODEL"],
    [9, 3, 1, 9, 0, "CLIP"],
    [10, 3, 1, 10, 0, "CLIP"],
    [11, 4, 0, 22, 1, "VAE"],
    [12, 5, 0, 14, 3, "IMAGE"],
    [13, 5, 0, 15, 3, "IMAGE"],
    [14, 5, 1, 23, 2, "MASK"],
    [15, 6, 0, 12, 1, "IMAGE"],
    [16, 7, 0, 14, 2, "CONTROL_NET"],
    [17, 8, 0, 15, 2, "CONTROL_NET"],
    [18, 9, 0, 13, 0, "CONDITIONING"],
    [19, 10, 0, 14, 1, "CONDITIONING"],
    [20, 11, 0, 12, 0, "CLIP_VISION"],
    [21, 12, 0, 13, 1, "CLIP_VISION_OUTPUT"],
    [22, 13, 0, 14, 0, "CONDITIONING"],
    [23, 14, 0, 15, 0, "CONDITIONING"],
    [24, 14, 1, 15, 1, "CONDITIONING"],
    [25, 15, 0, 19, 1, "CONDITIONING"],
    [26, 15, 1, 19, 2, "CONDITIONING"],
    [27, 16, 0, 18, 0, "LATENT"],
    [28, 17, 0, 18, 1, "LATENT"],
    [29, 18, 0, 19, 3, "LATENT"],
    [30, 19, 0, 20, 0, "LATENT"],
    [31, 20, 0, 21, 3, "LATENT"],
    [32, 21, 0, 22, 0, "LATENT"],
    [33, 22, 0, 23, 1, "IMAGE"],
    [34, 22, 0, 27, 0, "IMAGE"],
    [35, 23, 0, 24, 1, "IMAGE"],
    [36, 25, 0, 24, 0, "UPSCALE_MODEL"],
    [37, 24, 0, 26, 0, "IMAGE"],
    [38, 26, 0, 28, 0, "IMAGE"]
  ],
  "groups": [
    {
      "title": "Model Loading",
      "bounding": [20, 30, 360, 830],
      "color": "#3f789e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Input Images",
      "bounding": [380, 30, 360, 760],
      "color": "#b58b2a",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Conditioning",
      "bounding": [740, 30, 440, 1040],
      "color": "#84a96e",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Generation",
      "bounding": [1180, 30, 360, 1100],
      "color": "#a1309b",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Post Processing",
      "bounding": [1540, 30, 360, 560],
      "color": "#b06634",
      "font_size": 24,
      "locked": false
    },
    {
      "title": "Output",
      "bounding": [1900, 30, 360, 920],
      "color": "#8b3f3f",
      "font_size": 24,
      "locked": false
    }
  ],
  "config": {},
  "extra": {
    "ds": {
      "scale": 0.5,
      "offset": [-50, -50]
    }
  },
  "version": 0.4
}