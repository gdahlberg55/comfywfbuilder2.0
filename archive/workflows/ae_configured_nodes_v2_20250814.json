{
  "workflow_name": "Enhanced ComfyUI Workflow with Configured Anything Everywhere Nodes",
  "configuration_timestamp": "2025-08-15T00:00:00",
  "architecture_reference": "ae_workflow_architecture_v2_20250814",
  "configured_ae_nodes": [
    {
      "node_id": "AE_MODEL_MAIN",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["3", 0],
        "title_regex": "detailer|upscale|ksampler|efficient",
        "input_regex": "model",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "title",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [400, 1200],
      "meta": {
        "title": "AE MODEL Distribution",
        "description": "Distributes MODEL from LoRA stack to all detailers, upscalers, and samplers",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 50,
          "mode": 0,
          "color": "#322",
          "bgcolor": "#533"
        }
      }
    },
    {
      "node_id": "AE_CLIP",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["1", 1],
        "title_regex": "detailer|encode|text",
        "input_regex": "clip",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [400, 1400],
      "meta": {
        "title": "AE CLIP Distribution",
        "description": "Distributes CLIP from checkpoint to all detailers and text encoders",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 51,
          "mode": 0,
          "color": "#432",
          "bgcolor": "#653"
        }
      }
    },
    {
      "node_id": "AE_VAE_MAIN",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["1", 2],
        "title_regex": "detailer|decode|encode|upscale",
        "input_regex": "vae",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [600, 1400],
      "meta": {
        "title": "AE VAE Distribution",
        "description": "Distributes VAE from checkpoint to all detailers and decoders",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 52,
          "mode": 0,
          "color": "#432",
          "bgcolor": "#653"
        }
      }
    },
    {
      "node_id": "AE_POSITIVE",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["4", 0],
        "title_regex": "detailer|sampler|upscale",
        "input_regex": "positive",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [400, 1300],
      "meta": {
        "title": "AE Positive Conditioning",
        "description": "Distributes positive conditioning to all detailers and samplers",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 53,
          "mode": 0,
          "color": "#223",
          "bgcolor": "#335"
        }
      }
    },
    {
      "node_id": "AE_NEGATIVE",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["5", 0],
        "title_regex": "detailer|sampler|upscale",
        "input_regex": "negative",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [600, 1300],
      "meta": {
        "title": "AE Negative Conditioning",
        "description": "Distributes negative conditioning to all detailers and samplers",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 54,
          "mode": 0,
          "color": "#223",
          "bgcolor": "#335"
        }
      }
    },
    {
      "node_id": "AE_FACE_DETECTOR",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["8", 0],
        "title_regex": "face.*pass",
        "input_regex": "bbox_detector",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "title",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [1350, 1500],
      "meta": {
        "title": "AE Face Detector",
        "description": "Distributes face detector to all face enhancement passes",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 55,
          "mode": 0,
          "color": "#534",
          "bgcolor": "#756"
        }
      }
    },
    {
      "node_id": "AE_HAND_DETECTOR",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["9", 0],
        "title_regex": "hand.*pass",
        "input_regex": "bbox_detector",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "title",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [1550, 1500],
      "meta": {
        "title": "AE Hand Detector",
        "description": "Distributes hand detector to all hand enhancement passes",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 56,
          "mode": 0,
          "color": "#534",
          "bgcolor": "#756"
        }
      }
    },
    {
      "node_id": "AE_SAM_MODEL",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["10", 0],
        "title_regex": "detailer",
        "input_regex": "sam_model",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [1750, 1500],
      "meta": {
        "title": "AE SAM Model",
        "description": "Distributes SAM model to all detailer nodes",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 57,
          "mode": 0,
          "color": "#534",
          "bgcolor": "#756"
        }
      }
    },
    {
      "node_id": "AE_UPSCALE_MODEL",
      "class_type": "Anything Everywhere",
      "inputs": {
        "anything": ["17", 0],
        "title_regex": "upscale|ultimate",
        "input_regex": "upscale_model",
        "group_regex": "",
        "color_regex": "",
        "regex_priority": "input",
        "send_to_widgets": false
      },
      "outputs": [],
      "position": [4050, 1500],
      "meta": {
        "title": "AE Upscale Model",
        "description": "Distributes upscale model to upscaling nodes",
        "properties": {
          "Node name for S&R": "Anything Everywhere",
          "flags": {},
          "order": 58,
          "mode": 0,
          "color": "#453",
          "bgcolor": "#675"
        }
      }
    }
  ],
  "configuration_details": {
    "restriction_patterns": {
      "MODEL_MAIN": {
        "targets": ["detailer", "upscale", "ksampler", "efficient"],
        "input_match": "model",
        "priority": "title-based matching for broad distribution"
      },
      "CLIP": {
        "targets": ["detailer", "encode", "text"],
        "input_match": "clip",
        "priority": "input-based matching for precise targeting"
      },
      "VAE_MAIN": {
        "targets": ["detailer", "decode", "encode", "upscale"],
        "input_match": "vae",
        "priority": "input-based matching"
      },
      "POSITIVE/NEGATIVE": {
        "targets": ["detailer", "sampler", "upscale"],
        "input_match": "positive/negative",
        "priority": "input-based matching for conditioning"
      },
      "FACE_DETECTOR": {
        "targets": ["face.*pass"],
        "input_match": "bbox_detector",
        "priority": "title-based for face-specific nodes"
      },
      "HAND_DETECTOR": {
        "targets": ["hand.*pass"],
        "input_match": "bbox_detector",
        "priority": "title-based for hand-specific nodes"
      },
      "SAM_MODEL": {
        "targets": ["detailer"],
        "input_match": "sam_model",
        "priority": "input-based for all detailers"
      },
      "UPSCALE_MODEL": {
        "targets": ["upscale", "ultimate"],
        "input_match": "upscale_model",
        "priority": "input-based for upscaling nodes"
      }
    },
    "priority_settings": {
      "general_rule": "Higher order numbers execute later, preventing conflicts",
      "order_range": "50-58 ensures execution after source nodes",
      "conflict_prevention": "Different regex patterns prevent overlap"
    },
    "color_configuration": {
      "MODEL_BUS": "#322/#533 - Dark red theme",
      "RESOURCE_BUS": "#432/#653 - Purple theme",
      "CONDITIONING_BUS": "#223/#335 - Blue theme",
      "DETECTOR_BUS": "#534/#756 - Pink theme",
      "UPSCALE_BUS": "#453/#675 - Orange theme"
    },
    "widget_configuration": {
      "send_to_widgets": false,
      "reason": "All connections are node inputs, not widget values"
    }
  },
  "validation_checklist": {
    "node_properties": {
      "all_have_flags": true,
      "all_have_order": true,
      "all_have_mode": true,
      "all_have_colors": true,
      "all_have_titles": true
    },
    "connection_mapping": {
      "source_nodes_defined": true,
      "output_slots_specified": true,
      "regex_patterns_tested": true,
      "priority_settings_applied": true
    },
    "conflict_prevention": {
      "unique_order_numbers": true,
      "non_overlapping_patterns": true,
      "proper_priority_settings": true
    }
  }
}